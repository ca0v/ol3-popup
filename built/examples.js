var __extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();define("ol3-popup/paging/paging",["require","exports","openlayers","jquery"],function(e,t,i,a){"use strict";function s(e){return e.getInteriorPoint?e.getInteriorPoint().getCoordinates():i.extent.getCenter(e.getExtent())}Object.defineProperty(t,"__esModule",{value:!0});var n="pages",r="page",p="add",l="clear",u="goto";function c(){return"_"+1e6*Math.random()}var o=function(o){function e(e){var t=o.call(this)||this;return t.options=e,t._pages=[],t.domNode=document.createElement("div"),t.domNode.classList.add(n),e.popup.domNode.appendChild(t.domNode),t}return __extends(e,o),Object.defineProperty(e.prototype,"activePage",{get:function(){return this._activePage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._pages.indexOf(this._activePage)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._pages.length},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t){o.prototype.on.call(this,e,t)},e.prototype.findPage=function(t){return this._pages.filter(function(e){return e.feature===t})[0]},e.prototype.removePage=function(e){var t=this._pages.indexOf(e);if(0<=t){this._pages.splice(t,1);this._pages.length;this.goto(t)}},e.prototype.addFeature=function(e,t){var o=this.findPage(e);if(o)return this.goto(this._pages.indexOf(o)),o;var n=e.getGeometry();return n=n.intersectsCoordinate(t.searchCoordinate)?new i.geom.Point(t.searchCoordinate):new i.geom.Point(n.getClosestPoint(t.searchCoordinate)),o={element:document.createElement("div"),feature:e,location:n,uid:c()},this._pages.push(o),this.dispatchEvent({type:p,element:o.element,feature:o.feature,geom:o.location,pageIndex:o.uid}),o},e.prototype.add=function(e,t){var o,n=document.createElement("div");if("string"==typeof e)n.innerHTML=e,this._pages.push(o={element:n,location:t,uid:c()});else if(e.appendChild)n.classList.add(r),this._pages.push(o={element:n,location:t,uid:c()});else if(e.then){var i=e;n.classList.add(r),this._pages.push(o={element:n,location:t,uid:c()}),a.when(i).then(function(e){"string"==typeof e?n.innerHTML=e:n.appendChild(e)})}else{if("function"!=typeof e)throw"invalid source value: "+e;n.classList.add("page"),this._pages.push(o={callback:e,element:n,location:t,uid:c()})}return this.dispatchEvent({type:p,element:n,feature:null,geom:t,pageIndex:this._pages.length-1}),o},e.prototype.clear=function(){this._activePage=null,this._pages=[],this.dispatchEvent(l)},e.prototype.goto=function(t){var o,e=this;if(o="number"==typeof t?this._pages[t]:this._pages.filter(function(e){return e.uid===t})[0]){var n=this.options.popup;if(o.feature)return this.options.popup.show(s(o.location||o.feature.getGeometry()),n.options.asContent(o.feature)),this._activePage=o,void this.dispatchEvent(u);var i=a.Deferred();if(o.callback){var r=o.callback();a.when(r).then(function(e){if("string"==typeof e)o.element.innerHTML=e;else{if(void 0===e.innerHTML)throw"invalid callback result: "+e;o.element.innerHTML="",o.element.appendChild(e)}i.resolve()})}else i.resolve();i.then(function(){e._activePage=o,e.options.popup.show(s(o.location),o.element),e.dispatchEvent(u)})}},e.prototype.next=function(){0<=this.activeIndex&&this.activeIndex<this.count&&this.goto(this.activeIndex+1)},e.prototype.prev=function(){0<this.activeIndex&&this.goto(this.activeIndex-1)},e.prototype.indexOf=function(o){var n=-1;return this._pages.some(function(e,t){if(e.feature===o)return n=t,!0}),n},e}(i.Observable);t.Paging=o}),define("ol3-popup/paging/page-navigator",["require","exports","openlayers"],function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="btn-prev",a="btn-next",i="hidden",s="active",p="inactive",l="page-num",r="show",u="hide",c="prev",d="next";function f(e,t,o){void 0===o&&(o=!1),o?e.classList.add(t):e.classList.remove(t)}var g=function(t){function e(e){var i=t.call(this)||this,r=(i.options=e).pages;return i.domNode=document.createElement("div"),i.domNode.classList.add("pagination"),i.domNode.innerHTML=i.template(),i.prevButton=i.domNode.getElementsByClassName(n)[0],i.nextButton=i.domNode.getElementsByClassName(a)[0],i.pageInfo=i.domNode.getElementsByClassName(l)[0],r.options.popup.domNode.appendChild(i.domNode),i.prevButton.addEventListener("click",function(){return i.dispatchEvent(c)}),i.nextButton.addEventListener("click",function(){return i.dispatchEvent(d)}),r.on("goto",function(){return 1<r.count?i.show():i.hide()}),r.on("clear",function(){return i.hide()}),r.on("goto",function(){var e=r.activeIndex,t=r.count,o=0<e,n=e<t-1;f(i.prevButton,p,!o),f(i.prevButton,s,o),f(i.nextButton,p,!n),f(i.nextButton,s,n),i.prevButton.disabled=!o,i.nextButton.disabled=!n,i.pageInfo.innerHTML=1+e+" of "+t}),i}return __extends(e,t),e.prototype.template=function(){return'<button class="arrow btn-prev"></button><span class="page-num">m of n</span><button class="arrow btn-next"></button>'},e.prototype.hide=function(){this.domNode.classList.add(i),this.dispatchEvent(u)},e.prototype.show=function(){this.domNode.classList.remove(i),this.dispatchEvent(r)},e}(o.Observable);t.default=g}),define("node_modules/ol3-fun/ol3-fun/common",["require","exports"],function(e,t){"use strict";function i(e,t){if("string"==typeof t)return e;if("number"==typeof t)return parseFloat(e);if("boolean"==typeof t)return"1"===e||"true"===e;if(Array.isArray(t))return e.split(",").map(function(e){return i(e,t[0])});throw"unknown type: "+t}function r(e,t){void 0===t&&(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}function a(e,t){null!=e&&t(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},t.asArray=function(e){for(var t=new Array(e.length),o=0;o<e.length;o++)t[o]=e[o];return t},t.toggle=function(e,t,o){void 0===o&&(o=!1),o?e.classList.add(t):e.classList.remove(t)},t.parse=i,t.getQueryParameters=function(e,t){void 0===t&&(t=window.location.href);var n=e;Object.keys(n).forEach(function(o){a(r(o,t),function(e){var t=i(e,n[o]);void 0!==t&&(n[o]=t)})})},t.getParameterByName=r,t.doif=a,t.mixin=function(t,o){return Object.keys(o).forEach(function(e){return t[e]=o[e]}),t},t.defaults=function(o){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(t){Object.keys(t).filter(function(e){return void 0===o[e]}).forEach(function(e){return o[e]=t[e]})}),o},t.cssin=function(e,t){var o="style-"+e,n=document.getElementById(o);n||((n=document.createElement("style")).id=o,n.type="text/css",document.head.appendChild(n),n.appendChild(document.createTextNode(t)));var i=n.dataset;return i.count=parseInt(i.count||"0")+1+"",function(){i.count=parseInt(i.count||"0")-1+"","0"===i.count&&n.remove()}},t.debounce=function(n,i,r){var a,s=this;return void 0===i&&(i=50),void 0===r&&(r=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||n.apply(s,e)},i),o&&n.call(s,e)}},t.html=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild||t.firstChild},t.pair=function(e,o){var n=new Array(e.length*o.length),i=0;return e.forEach(function(t){return o.forEach(function(e){return n[i++]=[t,e]})}),n},t.range=function(e){for(var t=new Array(e),o=0;o<e;o++)t[o]=o;return t},t.shuffle=function(e){for(var t,o,n=e.length;0!==n;)o=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[o],e[o]=t;return e}}),define("ol3-popup/interaction",["require","exports","openlayers","node_modules/ol3-fun/ol3-fun/common"],function(e,t,g,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(l){var u,c=e.call(this,l)||this,d=(c.options=l).popup,f=l.map;return c.handlers=[],c.handlers.push(f.on("click",function(o){var e,t,n;if(c.get("active")){var i=d.isDocked();d.options.multi&&l.addCondition(o)||d.pages.clear();var r=!1,a=g.extent.createEmpty();a[0]=a[2]=o.pixel[0],a[1]=a[3]=o.pixel[1],a=g.extent.buffer(a,4),t=(e=[f.getCoordinateFromPixel([a[0],a[1]]),f.getCoordinateFromPixel([a[2],a[3]])])[0],a[0]=t[0],a[3]=t[1],n=e[1],a[2]=n[0],a[1]=n[1];var s,p=d.options.layers;p||(p=f.getLayers().getArray().filter(function(e){return e instanceof g.layer.Vector})),p.forEach(function(e){e!==u&&e.getSource().forEachFeatureIntersectingExtent(a,function(e){return s=d.pages.addFeature(e,{searchCoordinate:o.coordinate}),r=!0,!d.options.multi})}),r||f.forEachFeatureAtPixel(o.pixel,function(e,t){if(t&&t!==u&&-1!==p.indexOf(t))return s=d.pages.addFeature(e,{searchCoordinate:o.coordinate}),r=!0,!d.options.multi}),!r&&d.options.showCoordinates&&(s=d.pages.add(("\n<table>\n<tr><td>lon</td><td>"+o.coordinate[0].toPrecision(6)+"</td></tr>\n<tr><td>lat</td><td>"+o.coordinate[1].toPrecision(6)+"</td></tr>\n</table>").trim(),new g.geom.Point(o.coordinate)),r=!0),r?(d.pages.goto(s.uid),i&&!d.isDocked()&&d.dock()):d.options.multi&&l.addCondition(o)||d.hide()}})),d.options.pagingStyle&&(u=c.setupOverlay()),d.on("dispose",function(){return c.destroy()}),c}return __extends(t,e),t.create=function(e){if(!e.popup)throw"popup is a required option";return e.map||(e.map=e.popup.options.map,e.map),(e=o.defaults(e,t.DEFAULT_OPTIONS)).addCondition=e.addCondition||g.events.condition.shiftKeyOnly,e.removeCondition=e.removeCondition||g.events.condition.never,e.toggleCondition=e.addCondition||g.events.condition.shiftKeyOnly,new t(e)},t.prototype.setupOverlay=function(){var e=this,n=this.options.popup,i=new g.source.Vector({useSpatialIndex:!1,wrapX:this.options.wrapX}),t=new g.layer.Vector({map:this.options.map,source:i,updateWhileAnimating:!0,updateWhileInteracting:!0});return t.setStyle(function(e,t){var o=i.getFeatures().indexOf(e);return n.options.pagingStyle(e,t,o)}),t.setMap(this.options.map),this.handlers.push(function(){return e.options.map.removeLayer(t)}),n.pages.on("clear",function(){i.clear()}),this.handlers.push(n.pages.on("goto",function(){return t.getSource().refresh()})),n.pages.on("remove",function(t){i.forEachFeature(function(e){if(e.get("page-index")===t.pageIndex)return i.removeFeature(e),!0})}),n.pages.on("add",function(e){var t=e.feature;t?((t=t.clone()).setStyle(null),e.geom&&t.setGeometry(e.geom)):e.geom&&(t=new g.Feature).setGeometry(e.geom),t&&(t.set("page-index",e.pageIndex),i.addFeature(t))}),t},t.prototype.destroy=function(){this.handlers.forEach(function(e){return e instanceof Function?e():g.Observable.unByKey(e)})},t.DEFAULT_OPTIONS={multi:!0},t}(g.interaction.Select);t.SelectInteraction=n}),define("node_modules/ol3-symbolizer/ol3-symbolizer/common/assign",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assign=function(e,t,o){null==o||"object"==typeof o&&0===Object.keys(o).length||("image"===t&&(o.hasOwnProperty("radius")&&(t="circle"),o.hasOwnProperty("points")&&o.points<1/0&&(t="star")),e[t]=o)}}),define("node_modules/ol3-symbolizer/ol3-symbolizer/common/mixin",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mixin=function(t,o){return Object.keys(o).forEach(function(e){return t[e]=o[e]}),t}}),define("node_modules/ol3-symbolizer/ol3-symbolizer/common/doif",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doif=function(e,t){null!=e&&t(e)}}),define("node_modules/ol3-symbolizer/ol3-symbolizer/format/plugins/as-cross",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.is=function(e){return!!e&&(!!e.cross||!!e.star&&(!!e.star.radius&&(4===e.star.points&&(0==e.star.radius2&&0==e.star.angle))))},e.as=function(e){var t=e.star;if(!t)throw"star expected";return{cross:{size:2*t.radius,fill:t.fill,opacity:t.opacity,rotateWithView:t.rotateWithView,rotation:t.rotation,scale:t.scale,snapToPixel:t.snapToPixel,stroke:t.stroke}}},e.inverse=function(e){var t=e.cross;return t?{star:{radius:t.size/2,radius2:0,points:4,angle:0,fill:t.fill,opacity:t.opacity,rotateWithView:t.rotateWithView,rotation:t.rotation,scale:t.scale,snapToPixel:t.snapToPixel,stroke:t.stroke}}:e},e}();t.Shapeshifter=o}),define("node_modules/ol3-symbolizer/ol3-symbolizer/format/plugins/as-square",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.is=function(e){return!!e&&(!!e.square||!!e.star&&(!!e.star.radius&&(4===e.star.points&&(void 0===e.star.radius2&&.7853981633974483==e.star.angle))))},e.as=function(e){var t=e.star;if(!t)throw"star expected";return{square:{size:2*t.radius,fill:t.fill,opacity:t.opacity,rotateWithView:t.rotateWithView,rotation:t.rotation,scale:t.scale,snapToPixel:t.snapToPixel,stroke:t.stroke}}},e.inverse=function(e){var t=e.square;return t?{star:{radius:t.size/2,radius2:void 0,points:4,angle:.7853981633974483,fill:t.fill,opacity:t.opacity,rotateWithView:t.rotateWithView,rotation:t.rotation,scale:t.scale,snapToPixel:t.snapToPixel,stroke:t.stroke}}:e},e}();t.Shapeshifter=o}),define("node_modules/ol3-symbolizer/ol3-symbolizer/format/plugins/as-diamond",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.is=function(e){return!!e&&(!!e.diamond||!!e.star&&(!!e.star.radius&&(4===e.star.points&&(void 0===e.star.radius2&&0==e.star.angle))))},e.as=function(e){var t=e.star;if(!t)throw"star expected";return{diamond:{size:2*e.star.radius,fill:t.fill,opacity:t.opacity,rotateWithView:t.rotateWithView,rotation:t.rotation,scale:t.scale,snapToPixel:t.snapToPixel,stroke:t.stroke}}},e.inverse=function(e){var t=e.diamond;return t?{star:{radius:t.size/2,radius2:void 0,points:4,angle:0,fill:t.fill,opacity:t.opacity,rotateWithView:t.rotateWithView,rotation:t.rotation,scale:t.scale,snapToPixel:t.snapToPixel,stroke:t.stroke}}:e},e}();t.Shapeshifter=o}),define("node_modules/ol3-symbolizer/ol3-symbolizer/format/plugins/as-triangle",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.is=function(e){return!!e&&(!!e.triangle||!!e.star&&(!!e.star.radius&&(3===e.star.points&&(null==e.star.radius2&&0==e.star.angle))))},e.as=function(e){var t=e.star;if(!t)throw"star expected";return{triangle:{size:2*t.radius,fill:t.fill,opacity:t.opacity,rotateWithView:t.rotateWithView,rotation:t.rotation,scale:t.scale,snapToPixel:t.snapToPixel,stroke:t.stroke}}},e.inverse=function(e){var t=e.triangle;return t?{star:{radius:t.size/2,radius2:void 0,points:3,angle:0,fill:t.fill,opacity:t.opacity,rotateWithView:t.rotateWithView,rotation:t.rotation,scale:t.scale,snapToPixel:t.snapToPixel,stroke:t.stroke}}:e},e}();t.Shapeshifter=o}),define("node_modules/ol3-symbolizer/ol3-symbolizer/format/plugins/as-x",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.is=function(e){return!!e&&(!!e.x||!!e.star&&(!!e.star.radius&&(4===e.star.points&&(0==e.star.radius2&&.7853981633974483==e.star.angle))))},e.as=function(e){var t=e.star;if(!t)throw"star expected";return{x:{size:2*t.radius,fill:t.fill,opacity:t.opacity,rotateWithView:t.rotateWithView,rotation:t.rotation,scale:t.scale,snapToPixel:t.snapToPixel,stroke:t.stroke}}},e.inverse=function(e){var t=e.x;return t?{star:{radius:t.size/2,radius2:0,points:4,angle:.7853981633974483,fill:t.fill,opacity:t.opacity,rotateWithView:t.rotateWithView,rotation:t.rotation,scale:t.scale,snapToPixel:t.snapToPixel,stroke:t.stroke}}:e},e}();t.Shapeshifter=o}),define("node_modules/ol3-symbolizer/ol3-symbolizer/format/ol3-symbolizer",["require","exports","openlayers","node_modules/ol3-symbolizer/ol3-symbolizer/common/assign","node_modules/ol3-symbolizer/ol3-symbolizer/common/mixin","node_modules/ol3-symbolizer/ol3-symbolizer/common/doif","node_modules/ol3-symbolizer/ol3-symbolizer/format/plugins/as-cross","node_modules/ol3-symbolizer/ol3-symbolizer/format/plugins/as-square","node_modules/ol3-symbolizer/ol3-symbolizer/format/plugins/as-diamond","node_modules/ol3-symbolizer/ol3-symbolizer/format/plugins/as-triangle","node_modules/ol3-symbolizer/ol3-symbolizer/format/plugins/as-x"],function(e,t,l,n,h,o,i,r,a,s,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(){this.converters=[],this.converters.push(i.Shapeshifter),this.converters.push(r.Shapeshifter),this.converters.push(a.Shapeshifter),this.converters.push(s.Shapeshifter),this.converters.push(p.Shapeshifter)}return e.prototype.fromJson=function(t){return this.converters.some(function(e){return e.is(t)&&e.inverse&&!!(t=e.inverse(t))}),this.deserializeStyle(t)},e.prototype.toJson=function(e){var t=this.serializeStyle(e);return this.converters.some(function(e){return e.is(t)&&e.as&&!!(t=e.as(t))}),t},e.prototype.getGeometry=function(e){var t=e.getGeometry();return t instanceof l.geom.Polygon&&(t=t.getInteriorPoint()),t},e.prototype.serializeStyle=function(t){var o={};if(!t)return null;if("string"==typeof t)throw t;if("number"==typeof t)throw t;return t.getColor&&h.mixin(o,this.serializeColor(t.getColor())),t.getImage&&n.assign(o,"image",this.serializeImage(t.getImage())),t.getFill&&n.assign(o,"fill",this.serializeFill(t.getFill())),t.getOpacity&&n.assign(o,"opacity",t.getOpacity()),t.getStroke&&n.assign(o,"stroke",this.serializeStroke(t.getStroke())),t.getText&&n.assign(o,"text",this.serializeText(t.getText())),t.getWidth&&n.assign(o,"width",t.getWidth()),t.getOffsetX&&n.assign(o,"offset-x",t.getOffsetX()),t.getOffsetY&&n.assign(o,"offset-y",t.getOffsetY()),t.getWidth&&n.assign(o,"width",t.getWidth()),t.getFont&&n.assign(o,"font",t.getFont()),t.getRadius&&n.assign(o,"radius",t.getRadius()),t.getRadius2&&n.assign(o,"radius2",t.getRadius2()),t.getPoints&&n.assign(o,"points",t.getPoints()),t.getAngle&&n.assign(o,"angle",t.getAngle()),t.getRotation&&n.assign(o,"rotation",t.getRotation()),t.getOrigin&&n.assign(o,"origin",t.getOrigin()),t.getScale&&n.assign(o,"scale",t.getScale()),t.getSize&&n.assign(o,"size",t.getSize()),t.getAnchor&&(n.assign(o,"anchor",t.getAnchor()),"anchorXUnits,anchorYUnits,anchorOrigin".split(",").forEach(function(e){n.assign(o,e,t[e+"_"])})),t.path&&(t.path&&n.assign(o,"path",t.path),t.getImageSize&&n.assign(o,"imgSize",t.getImageSize()),t.stroke&&n.assign(o,"stroke",t.stroke),t.fill&&n.assign(o,"fill",t.fill),t.scale&&n.assign(o,"scale",t.scale),t.imgSize&&n.assign(o,"imgSize",t.imgSize)),t.getSrc&&n.assign(o,"src",t.getSrc()),o},e.prototype.serializeImage=function(e){if("string"==typeof e)throw e;if("number"==typeof e)throw e;return this.serializeStyle(e)},e.prototype.serializeStroke=function(e){if("string"==typeof e)throw e;if("number"==typeof e)throw e;return this.serializeStyle(e)},e.prototype.serializeText=function(e){return e},e.prototype.serializeColor=function(e){if(e instanceof Array)return{color:l.color.asString(e)};if(e instanceof CanvasGradient)return{gradient:e};if(e instanceof CanvasPattern)return{pattern:e};if("string"==typeof e)return{color:e};throw"unknown color type"},e.prototype.serializeFill=function(e){return this.serializeStyle(e)},e.prototype.deserializeStyle=function(e){var t,o,n,i,r=this;if(e.circle)t=this.deserializeCircle(e.circle);else if(e.star)t=this.deserializeStar(e.star);else if(e.icon)t=this.deserializeIcon(e.icon);else if(e.svg)t=this.deserializeSvg(e.svg);else if(e.image&&(e.image.img||e.image.path))t=this.deserializeSvg(e.image);else if(e.image&&e.image.src)t=this.deserializeIcon(e.image);else if(e.image)throw"unknown image type";e.text&&(o=this.deserializeText(e.text)),e.fill&&(n=this.deserializeFill(e.fill)),e.stroke&&(i=this.deserializeStroke(e.stroke));var a=new l.style.Style({image:t,text:o,fill:n,stroke:i});return t&&a.setGeometry(function(e){return r.getGeometry(e)}),a},e.prototype.deserializeText=function(e){var t;e.rotation=e.rotation||0,e.scale=e.scale||1;var o=[e["offset-x"]||0,e["offset-y"]||0],n=o[0],i=o[1],r=new l.geom.Point([n,i]);return r.rotate(e.rotation,[0,0]),r.scale(e.scale,e.scale),n=(t=r.getCoordinates())[0],i=t[1],new l.style.Text({fill:e.fill&&this.deserializeFill(e.fill),stroke:e.stroke&&this.deserializeStroke(e.stroke),text:e.text,font:e.font,offsetX:n,offsetY:i,rotation:e.rotation,scale:e.scale})},e.prototype.deserializeCircle=function(e){var t=new l.style.Circle({radius:e.radius,fill:e.fill&&this.deserializeFill(e.fill),stroke:e.stroke&&this.deserializeStroke(e.stroke)});return t.setOpacity(e.opacity),t},e.prototype.deserializeStar=function(e){var t=new l.style.RegularShape({radius:e.radius,radius2:e.radius2,points:e.points,angle:e.angle,fill:e.fill&&this.deserializeFill(e.fill),stroke:e.stroke&&this.deserializeStroke(e.stroke)});return o.doif(e.rotation,function(e){return t.setRotation(e)}),o.doif(e.opacity,function(e){return t.setOpacity(e)}),t},e.prototype.deserializeIcon=function(e){e.anchor||(e.anchor=[e["anchor-x"]||.5,e["anchor-y"]||.5]);var t=new l.style.Icon({anchor:e.anchor||[.5,.5],anchorOrigin:e.anchorOrigin||"top-left",anchorXUnits:e.anchorXUnits||"fraction",anchorYUnits:e.anchorYUnits||"fraction",img:void 0,imgSize:void 0,offset:e.offset,offsetOrigin:e.offsetOrigin,opacity:e.opacity,scale:e.scale,snapToPixel:e.snapToPixel,rotateWithView:e.rotateWithView,rotation:e.rotation,size:e.size,src:e.src,color:e.color});return t.load(),t},e.prototype.deserializeSvg=function(t){var e;if(t.rotation=t.rotation||0,t.scale=t.scale||1,t.img){var o=document.getElementById(t.img);if(!o)throw"unable to find svg element: "+t.img;if(o){var n=o.getElementsByTagName("path")[0];n&&(o.viewBox&&(t.imgSize||(t.imgSize=[o.viewBox.baseVal.width,o.viewBox.baseVal.height])),t.path=(t.path||"")+n.getAttribute("d"))}}var i=document.createElement("canvas");if(t.path){if(e=t.imgSize.map(function(e){return e*t.scale}),i.width=e[0],i.height=e[1],t.stroke&&t.stroke.width){var r=2*t.stroke.width*t.scale;i.width+=r,i.height+=r}var a=i.getContext("2d"),s=new Path2D(t.path);a.translate(i.width/2,i.height/2),a.scale(t.scale,t.scale),a.translate(-t.imgSize[0]/2,-t.imgSize[1]/2),t.fill&&(a.fillStyle=t.fill.color,a.fill(s)),t.stroke&&(a.strokeStyle=t.stroke.color,a.lineWidth=t.stroke.width,a.stroke(s))}var p=new l.style.Icon({img:i,imgSize:[i.width,i.height],rotation:t.rotation,scale:1,anchor:t.anchor||[i.width/2,i.height],anchorOrigin:t.anchorOrigin,anchorXUnits:t.anchorXUnits||"pixels",anchorYUnits:t.anchorYUnits||"pixels",offset:t.offset,offsetOrigin:t.offsetOrigin,opacity:t.opacity,snapToPixel:t.snapToPixel,rotateWithView:t.rotateWithView,size:[i.width,i.height],src:void 0});return h.mixin(p,{path:t.path,stroke:t.stroke,fill:t.fill,scale:t.scale,imgSize:t.imgSize})},e.prototype.deserializeFill=function(e){return new l.style.Fill({color:e&&this.deserializeColor(e)})},e.prototype.deserializeStroke=function(e){var t=new l.style.Stroke;return o.doif(e.color,function(e){return t.setColor(e)}),o.doif(e.lineCap,function(e){return t.setLineCap(e)}),o.doif(e.lineDash,function(e){return t.setLineDash(e)}),o.doif(e.lineJoin,function(e){return t.setLineJoin(e)}),o.doif(e.miterLimit,function(e){return t.setMiterLimit(e)}),o.doif(e.width,function(e){return t.setWidth(e)}),t},e.prototype.deserializeColor=function(e){var t;if(e.color)return e.color;if(e.gradient){var n,o=e.gradient.type;if(0===o.indexOf("linear(")?n=this.deserializeLinearGradient(e.gradient):0===o.indexOf("radial(")&&(n=this.deserializeRadialGradient(e.gradient)),e.gradient.stops){h.mixin(n,{stops:e.gradient.stops});var i=e.gradient.stops.split(";");(i=i.map(function(e){return e.trim()})).forEach(function(e){var t=e.match(/ \d+%/m)[0],o=e.substr(0,e.length-t.length);n.addColorStop(parseInt(t)/100,o)})}return n}if(e.pattern){var r=e.pattern.repitition,a=(l=document.createElement("canvas")).width=l.height=6|e.pattern.spacing,s=l.getContext("2d");switch(s.fillStyle=e.pattern.color,e.pattern.orientation){case"horizontal":for(var p=0;p<a;p++)s.fillRect(p,0,1,1);break;case"vertical":for(p=0;p<a;p++)s.fillRect(0,p,1,1);break;case"cross":for(p=0;p<a;p++)s.fillRect(p,0,1,1),s.fillRect(0,p,1,1);break;case"forward":for(p=0;p<a;p++)s.fillRect(p,p,1,1);break;case"backward":for(p=0;p<a;p++)s.fillRect(a-1-p,p,1,1);break;case"diagonal":for(p=0;p<a;p++)s.fillRect(p,p,1,1),s.fillRect(a-1-p,p,1,1)}return h.mixin(s.createPattern(l,r),e.pattern)}if(e.image){var l=document.createElement("canvas"),u=(t=e.image.imgSize,l.width=t[0],l.height=t[1],t),c=u[0],d=u[1],f=l.getContext("2d"),g=document.createElement("img");return g.src=e.image.imageData,g.onload=function(){return f.drawImage(g,0,0,c,d)},"rgba(255,255,255,0.1)"}throw"invalid color configuration"},e.prototype.deserializeLinearGradient=function(e){var t=JSON.parse(e.type.replace(/\w+\((.*)\)/m,"[$1]")),o=t[0],n=t[1],i=t[2],r=t[3],a=document.createElement("canvas");a.width=Math.max(o,i),a.height=Math.max(n,r);var s=a.getContext("2d").createLinearGradient(o,n,i,r);return h.mixin(s,{type:"linear("+[o,n,i,r].join(",")+")"}),s},e.prototype.deserializeRadialGradient=function(e){var t=JSON.parse(e.type.replace(/radial\((.*)\)/m,"[$1]")),o=t[0],n=t[1],i=t[2],r=t[3],a=t[4],s=t[5],p=document.createElement("canvas");p.width=2*Math.max(o,r),p.height=2*Math.max(n,a);var l=p.getContext("2d").createRadialGradient(o,n,i,r,a,s);return h.mixin(l,{type:"radial("+[o,n,i,r,a,s].join(",")+")"}),l},e}();t.StyleConverter=u}),define("node_modules/ol3-symbolizer/index",["require","exports","node_modules/ol3-symbolizer/ol3-symbolizer/format/ol3-symbolizer"],function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Symbolizer=o}),define("ol3-popup/ol3-popup",["require","exports","jquery","openlayers","ol3-popup/paging/paging","ol3-popup/paging/page-navigator","node_modules/ol3-fun/ol3-fun/common","ol3-popup/interaction","node_modules/ol3-symbolizer/index"],function(e,t,n,o,c,d,f,g,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=new i.Symbolizer.StyleConverter,m=h.fromJson({circle:{fill:{color:"rgba(255,0,0,1)"},opacity:1,stroke:{color:"rgba(255,255,255,1)",width:1},radius:3}}),y="ol-popup-docker",v="ol-popup-closer",b="ol-popup-content",r="hidden",a="docked",s="dispose",p="dock",l="hide",x="show",w="undock";var k={map:null,asContent:function(o){var e=document.createElement("div"),t=Object.keys(o.getProperties()).filter(function(e){var t=o.get(e);return"string"==typeof t||"number"==typeof t});return e.title=o.getGeometryName(),e.innerHTML="<table>"+t.map(function(e){return"<tr><td>"+e+"</td><td>"+o.get(e)+"</td></tr>"}).join("")+"</table>",e},multi:!1,autoPan:!0,autoPanAnimation:{source:null,duration:250},autoPopup:!0,className:"ol-popup",css:"\n.ol-popup {\n    background-color: white;\n    border: 1px solid black;\n    padding: 4px;\n    padding-top: 24px;\n}\n.ol-popup .ol-popup-content {\n    overflow: auto;\n    min-width: 120px;\n    max-width: 360px;\n    max-height: 240px;\n}\n.ol-popup .pages {\n    overflow: auto;\n    max-width: 360px;\n    max-height: 240px;\n}\n.ol-popup .ol-popup-closer {\n    right: 4px;\n}\n".trim(),insertFirst:!0,pointerPosition:50,xOffset:0,yOffset:0,positioning:"top-right",stopEvent:!0,showCoordinates:!1},u=function(u){function o(e){var a,t=u.call(this,e)||this;e.pagingStyle||(e.pagingStyle=(a=t,function(e,t,o){var n=[m];if(a.options.multi&&1<a.pages.count){var i=a.pages.activeIndex===o,r=h.fromJson({text:{text:""+(o+1),fill:{color:i?"white":"black"},stroke:{color:i?"black":"white",width:i?4:2},"offset-y":20}});n.push(r)}return n})),t.options=e,t.handlers=[],f.cssin("ol3-popup",'\n.ol-popup {\n    position: absolute;\n    bottom: 12px;\n    left: -50px;\n}\n\n.ol-popup.hidden {\n    display: none;\n}\n\n.ol-popup:after {\n    top: auto;\n    bottom: -20px;\n    left: 50px;\n    border: solid transparent;\n    border-top-color: inherit;\n    content: " ";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n    border-width: 10px;\n    margin-left: -10px;\n}\n\n.ol-popup.docked {\n    position:absolute;\n    bottom:0;\n    top:0;\n    left:0;\n    right:0;\n    width:auto;\n    height:auto;\n    pointer-events: all;\n}\n\n.ol-popup.docked:after {\n    display:none;\n}\n\n.ol-popup.docked .pages {\n    max-height: inherit;\n    overflow: auto;\n    height: calc(100% - 60px);\n}\n\n.ol-popup.docked .pagination {\n    position: absolute;\n    bottom: 0;\n}\n\n.ol-popup .pagination .btn-prev::after {\n    content: "⇦"; \n}\n\n.ol-popup .pagination .btn-next::after {\n    content: "⇨"; \n}\n\n.ol-popup .pagination.hidden {\n    display: none;\n}\n\n.ol-popup .ol-popup-closer {\n    border: none;\n    background: transparent;\n    color: inherit;\n    position: absolute;\n    top: 0;\n    right: 0;\n    text-decoration: none;\n}\n    \n.ol-popup .ol-popup-closer:after {\n    content:\'✖\';\n}\n\n.ol-popup .ol-popup-docker {\n    border: none;\n    background: transparent;\n    color: inherit;\n    text-decoration: none;\n    position: absolute;\n    top: 0;\n    right: 20px;\n}\n\n.ol-popup .ol-popup-docker:after {\n    content:\'□\';\n}\n'),e.css&&t.injectCss(e.css);var o=t.domNode=document.createElement("div");if((o.className=e.className,t.setElement(o),t.handlers.push(function(){return o.remove()}),"number"==typeof t.options.pointerPosition&&t.setPointerPosition(t.options.pointerPosition),t.options.dockContainer)&&t.options.dockContainer){var n=t.docker=document.createElement("label");n.className=y,o.appendChild(n),n.addEventListener("click",function(e){t.isDocked()?t.undock():t.dock(),e.preventDefault()},!1)}var i=t.closer=document.createElement("label");i.className=v,o.appendChild(i),i.addEventListener("click",function(e){t.hide(),e.preventDefault()},!1);var r=t.content=document.createElement("div");r.className=b,t.domNode.appendChild(r);var s=t.pages=new c.Paging({popup:t}),p=new d.default({pages:s});if(p.hide(),p.on("prev",function(){return s.prev()}),p.on("next",function(){return s.next()}),s.on("goto",function(){return t.panIntoView()}),t.options.autoPopup){var l=g.SelectInteraction.create({popup:t});t.on("change:active",function(){l.set("active",t.get("active"))}),t.handlers.push(function(){return l.destroy()})}return t}return __extends(o,u),o.create=function(e){var t=new o(e=f.defaults({},e,k));return e.map&&e.map.addOverlay(t),t},o.prototype.injectCss=function(e){var t=f.html("<style type='text/css'>"+e+"</style>");n(document.head).append(t),this.handlers.push(function(){return t.remove()})},o.prototype.setIndictorPosition=function(){throw"removed in 4.0.1: use setPointerPosition"},o.prototype.setPointerPosition=function(e){var t=this,o=this.getPositioning().split("-",2),n=o[0],i=o[1],r=[];switch(n){case"bottom":r.push(".ol-popup { top: "+(10+this.options.yOffset)+"px; bottom: auto; }"),r.push(".ol-popup:after {  top: -20px; bottom: auto; transform: rotate(180deg);}");break;case"center":break;case"top":r.push(".ol-popup { top: auto; bottom: "+(10+this.options.yOffset)+"px; }"),r.push(".ol-popup:after {  top: auto; bottom: -20px; transform: rotate(0deg);}")}switch(i){case"center":break;case"left":r.push(".ol-popup { left: auto; right: "+(this.options.xOffset-e-10)+"px; }"),r.push(".ol-popup:after { left: auto; right: "+e+"px; }");break;case"right":r.push(".ol-popup { left: "+(this.options.xOffset-e-10)+"px; right: auto; }"),r.push(".ol-popup:after { left: "+(10+e)+"px; right: auto; }")}r.forEach(function(e){return t.injectCss(e)})},o.prototype.setPosition=function(e){var t,o;(this.options.position=e,this.isDocked())?this.options.map.getView().animate({center:e}):(t=this.getPosition(),o=e,!(t&&o&&(t===o||t.length===o.length&&t.every(function(e,t){return e==o[t]})))&&u.prototype.setPosition.call(this,e))},o.prototype.panIntoView=function(){if(this.isOpened()&&!this.isDocked()){var e=this.getPosition();e&&this.setPosition(e.map(function(e){return e}))}},o.prototype.destroy=function(){this.handlers.forEach(function(e){return e()}),this.handlers=[],this.getMap()&&this.getMap().removeOverlay(this),this.dispatchEvent(s)},o.prototype.show=function(e,t){return t instanceof HTMLElement?(this.content.innerHTML="",this.content.appendChild(t)):this.content.innerHTML=t,this.setPosition(e),this.domNode.classList.remove(r),this.dispatchEvent(x),this},o.prototype.on=function(e,t){return u.prototype.on.call(this,e,t)},o.prototype.hide=function(){return this.setPosition(void 0),this.pages.clear(),this.domNode.classList.add(r),this.dispatchEvent(l),this},o.prototype.isOpened=function(){return!this.domNode.classList.contains(r)},o.prototype.isDocked=function(){return this.domNode.classList.contains(a)},o.prototype.dock=function(){var e=this.getMap();return this.options.map=e,this.options.parentNode=this.domNode.parentElement,e.removeOverlay(this),this.domNode.classList.add(a),this.options.dockContainer.appendChild(this.domNode),this.dispatchEvent(p),this},o.prototype.undock=function(){return this.options.parentNode.appendChild(this.domNode),this.domNode.classList.remove(a),this.options.map.addOverlay(this),this.setPosition(this.options.position),this.dispatchEvent(w),this},o.prototype.applyOffset=function(e){var t=e[0],o=e[1];switch(this.getPositioning()){case"bottom-left":this.setOffset([t,-o]);break;case"bottom-right":this.setOffset([-t,-o]);break;case"top-left":this.setOffset([t,o]);break;case"top-right":this.setOffset([-t,o])}},o}(o.Overlay);t.Popup=u}),define("index",["require","exports","ol3-popup/ol3-popup"],function(e,t,o){"use strict";return o}),define("ol3-popup/examples/extras/feature-creator",["require","exports","openlayers","node_modules/ol3-symbolizer/index"],function(e,t,s,o){"use strict";var n=new o.Symbolizer.StyleConverter;function p(e,t){return void 0===t&&(t=1e3),[e[0]+t*Math.random(),e[1]+t*Math.random()]}function l(e,t){return[e[0]+t[0],e[1]+t[1]]}function u(e,t){var o=n.fromJson(t);return e.setStyle(o),o}return function(){function t(e){var t=(this.options=e).map,i=new s.source.Vector({features:[]}),o=new s.layer.Vector({source:i,style:new s.style.Style({fill:new s.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new s.style.Stroke({color:"#ffcc33",width:2}),image:new s.style.Circle({radius:7,fill:new s.style.Fill({color:"#ffcc33"})})})});t.addLayer(o),t.on("click",function(e){if(s.events.condition.altKeyOnly(e)){var t=(e=e.mapBrowserEvent||e).coordinate,o=new s.geom.Point(t),n=new s.Feature({geometry:o,name:"New Feature",attributes:{}});i.addFeature(n)}})}return t.create=function(e){return new t(e)},t.prototype.addSomeFeatures=function(e,t){var o=new s.Feature({id:123,foo:"foo",bar:"bar"});o.setGeometry(new s.geom.Point(p(t,100))),u(o,{circle:{fill:{color:"rgba(255,0,0,0.90)"},opacity:1,stroke:{color:"rgba(0,0,0,1)",width:1},radius:6}});var n=new s.Feature({id:123,foo:"foo",bar:"bar"});n.setGeometry(new s.geom.Point(p(l(t,[1e3,0])))),u(n,{image:{imgSize:[36,36],anchor:[32,32],stroke:{color:"rgba(128,25,0,0.8)",width:10},path:"M23 2 L23 23 L43 16.5 L23 23 L35 40 L23 23 L11 40 L23 23 L3 17 L23 23 L23 2 Z"}});var i=new s.Feature({id:123,foo:"foo",bar:"bar"}),r=p(l(t,[1e3,1e3]));i.setGeometry(new s.geom.Polygon([[r,p(t,1e3),p(t,1e3),r]])),u(i,{fill:{color:"rgba(255,255,0, 0.8)"},stroke:{color:"rgba(0,255,0,1)",width:1}});var a=new s.Feature({id:123,foo:"foo",UserIdentification:"foo.bar@foobar.org"});return a.setGeometry(new s.geom.Point(p(l(t,[0,1e3])))),u(a,{circle:{fill:{color:"rgba(100,100,100,0.5)"},opacity:1,stroke:{color:"rgba(100,100,100,1)",width:8},radius:32}}),e.getSource().addFeatures([o,n,i,a]),this},t}()}),define("ol3-popup/examples/activate",["require","exports","openlayers","ol3-popup/ol3-popup","node_modules/ol3-fun/ol3-fun/common","ol3-popup/examples/extras/feature-creator"],function(e,t,i,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=i.proj.transform([-.92,52.96],"EPSG:4326","EPSG:3857");t.run=function(){a.cssin("activate","\nhead, body {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\nbody { \n    margin-top: 0;\n    margin-left: 1px;\n}\n\nbody * {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.map {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\n.map .toggle-active {\n    position: absolute;\n    top: 1em;\n    left: 3em;\n    z-index: 1;\n}\n"),document.body.appendChild(a.html('<div>\n<div class="map">\n    <input type="button" class="toggle-active" value="Toggle Popup"></input>\n</div>\n</div>'));var e=document.getElementsByClassName("map")[0],t=new i.Map({target:e,layers:[new i.layer.Tile({source:new i.source.OSM})],view:new i.View({projection:"EPSG:3857",center:p,zoom:16})}),o=new i.layer.Vector({source:new i.source.Vector});t.addLayer(o),s.create({map:t}).addSomeFeatures(o,p);var n=r.Popup.create({map:t,css:"\n.ol-popup {\n    background-color: white;\n    padding: 4px;\n    padding-top: 24px;\n    border: 1px solid rgba(0, 0, 0, 1);\n}\n.pagination {\n    min-width: 160px;\n}\n.pagination .page-num {\n    min-width: 100px;\n    display: inline-block;\n    text-align: center; \n}\n.pagination .arrow.btn-next {\n    float: right;\n}",layers:[o]});n.set("active",!1),document.getElementsByClassName("toggle-active")[0].addEventListener("click",function(){return n.set("active",!n.get("active"))})}}),define("ol3-popup/examples/docking",["require","exports","openlayers","jquery","ol3-popup/ol3-popup","node_modules/ol3-fun/ol3-fun/common"],function(e,t,i,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=i.proj.transform([-85,35],"EPSG:4326","EPSG:3857");t.run=function(){r(document.head).append(s.html("<style name=\"paging\" type='text/css'>\nhead, body {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\nbody { \n    margin-top: 0;\n    margin-left: 1px;\n}\n\nbody * {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.map {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\n</style>")),r(document.body).append(s.html("<div>\n<div class=\"map\"></div>\n<div class='dock-container'></div>\n</div>"));var e=document.getElementsByClassName("map")[0],t=document.getElementsByClassName("dock-container")[0],o=new i.Map({target:e,layers:[new i.layer.Image({source:new i.source.ImageArcGISRest({projection:"EPSG:3857",ratio:1,params:{},url:"https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Specialty/ESRI_StateCityHighway_USA/MapServer"})})],view:new i.View({center:p,zoom:6})}),n=a.Popup.create({map:o,autoPan:!0,autoPanMargin:20,autoPanAnimation:{source:null,duration:500},autoPopup:!0,showCoordinates:!0,css:"\n\n.dock-container {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    width: 200px;\n    height: 300px;\n    border: 1px solid rgba(0,0,0,0.1);\n    display: inline-block;\n    padding: 20px;\n    background: transparent;\n    pointer-events: none;\n}\n\n.ol-popup {\n    width: 300px;\n    min-height: 50px;\n    background: white;\n    color: black;\n    border: 4px solid black;\n    border-radius: 12px;\n}\n\n.ol-popup:after {\n    border-top-color: black;\n}\n\n.ol-popup .ol-popup-content {\n    padding: 0;\n}\n\n.ol-popup .ol-popup-content > *:first-child {\n    margin-right: 36px;\n    overflow: hidden;\n    display: block;\n}\n\n.ol-popup .pagination button {\n    border:none;\n    background:transparent;\n}\n\n.ol-popup .ol-popup-closer {\n    width: 24px;\n    height: 24px;    \n    text-align: center;\n    border-top-right-radius: 8px;\n}\n\n.ol-popup .ol-popup-docker {\n    width: 24px;\n    height: 24px;\n    text-align: center;\n}\n\n.ol-popup .ol-popup-closer:hover {\n    background-color: red;\n    color: white;\n}\n\n.ol-popup .ol-popup-docker:hover {\n    background-color: #999;\n    color: white;\n}\n\n.ol-popup .ol-popup-content > *:first-child {\n    margin-right: 40px;\n}\n\n.ol-popup .arrow.active:hover {\n    background-color: #999;\n    color: white;    \n}\n\n",dockContainer:t,pointerPosition:150,xOffset:-4,yOffset:3,multi:!0});n.on("dock",s.debounce(function(){var e=n.on("show",function(){var e=a.Popup.create({map:o,autoPopup:!1,positioning:"top-center",asContent:function(e){return s.html("<b>Hi "+e.get("hello")+"</b>")}});n.once(["undock","dispose"],function(){return e.destroy()});var t=new i.Feature({hello:"Hello",geometry:new i.geom.Point(n.options.position)});e.pages.addFeature(t,{searchCoordinate:n.options.position}),e.pages.goto(0)});n.once(["undock","dispose"],function(){return i.Observable.unByKey(e)})}))}}),define("ol3-popup/examples/flash-style",["require","exports"],function(e,t){"use strict";return[{circle:{fill:{gradient:{type:"radial(25,25,21,25,25,0)",stops:"rgba(185,7,126,0.66) 0%;rgba(171,23,222,0.29) 100%"}},opacity:1,stroke:{color:"rgba(5,105,56,0.97)",width:4},radius:21,rotation:0}}]}),define("ol3-popup/examples/index",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.run=function(){var e=window.location,t=""+e.origin+e.pathname+"?run=ol3-popup/examples/";document.writeln("\n    <p>\n    Watch the console output for failed assertions (blank is good).\n    </p>\n    "),document.writeln("\n    activate\n    docking\n    multi\n    paging\n    simple\n    style-offset\n    index\n    ".split(/ /).map(function(e){return e.trim()}).filter(function(e){return!!e}).sort().map(function(e){return'<a href="'+t+e+'&debug=1">'+e+"</a>"}).join("<br/>"))}}),define("ol3-popup/examples/multi",["require","exports","openlayers","ol3-popup/ol3-popup","node_modules/ol3-symbolizer/index","node_modules/ol3-fun/ol3-fun/common","ol3-popup/examples/extras/feature-creator"],function(e,t,i,r,o,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=new o.Symbolizer.StyleConverter,l=i.proj.transform([-.92,52.96],"EPSG:4326","EPSG:3857");t.run=function(){a.cssin("multi","\nhead, body {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\nbody { \n    margin-top: 0;\n    margin-left: 1px;\n}\n\nbody * {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.map {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\n"),document.body.appendChild(a.html('<div>\n<div class="map">\n<label>Hold the shift key down when clicking the marker to multi-select</label>\n</div>\n</div>'));var e=document.getElementsByClassName("map")[0],t=new i.Map({target:e,layers:[new i.layer.Tile({source:new i.source.OSM})],view:new i.View({center:l,zoom:16})}),o=r.Popup.create({map:t,multi:!0,css:"\n.ol-popup {\n    background-color: white;\n    padding: 4px;\n    padding-top: 24px;\n    border: 1px solid rgba(0, 0, 0, 1);\n}\n.pagination {\n    min-width: 160px;\n}\n.pagination .page-num {\n    min-width: 100px;\n    display: inline-block;\n    text-align: center; \n}\n.pagination .arrow.btn-next {\n    float: right;\n}\ndiv.map > label {\n    position: absolute;\n    top: 10px;\n    left: 60px;\n    z-index: 1;\n}\n",pagingStyle:function(e,t,o){return[p.fromJson({circle:{fill:{color:"rgba(255,0,0,1)"},opacity:1,stroke:{color:"rgba(255,255,255,1)",width:5},radius:25},text:{text:""+(o+1),fill:{color:"white"},stroke:{color:"black",width:2},scale:3,"offset-y":0}})]},asContent:function(o){var e=document.createElement("div"),t=Object.keys(o.getProperties()).filter(function(e){var t=o.get(e);return"string"==typeof t||"number"==typeof t});return e.title=o.getGeometryName(),e.innerHTML="<table>"+t.map(function(e){return"<tr><td><b>"+e+"</b></td><td><i>"+o.get(e)+"</i></td></tr>"}).join("")+"</table>",e}});o.on("change:active",function(){return console.log("change:active")}),o.on("hide",function(){return console.log("hide")}),o.on("show",function(){return console.log("show",o.content.outerHTML)}),o.on("dispose",function(){return console.log("dispose")});var n=new i.layer.Vector({source:new i.source.Vector});t.addLayer(n),s.create({map:t}).addSomeFeatures(n,l)}}),define("ol3-popup/examples/paging",["require","exports","openlayers","ol3-popup/ol3-popup","ol3-popup/examples/extras/feature-creator","node_modules/ol3-fun/ol3-fun/common","jquery"],function(e,t,i,n,a,s,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=["The story of the three little pigs...","This little piggy went to market","This little piggy stayed home","This little piggy had roast beef","This little piggy had none","And this little piggy, <br/>this wee little piggy, <br/>when wee, wee, wee, wee <br/>all the way home!"],u=i.proj.transform([-.92,52.96],"EPSG:4326","EPSG:3857");t.run=function(){document.head.appendChild(s.html("<style name=\"paging\" type='text/css'>\nhead, body {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\nbody { \n    margin-top: 0;\n    margin-left: 1px;\n}\n\nbody * {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.map {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\n</style>")),document.body.appendChild(s.html("<div>\n<div class=\"map\"></div>\n<div class='dock-container'></div>\n</div>"));var e=document.getElementsByClassName("map")[0],t=document.getElementsByClassName("dock-container")[0],o=new i.Map({target:e,layers:[new i.layer.Tile({source:new i.source.OSM})],view:new i.View({center:u,zoom:6})}),r=n.Popup.create({map:o,autoPan:!0,autoPanMargin:20,autoPanAnimation:{source:null,duration:500},autoPopup:!0,showCoordinates:!0,css:"\n\n.dock-container {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    width: 200px;\n    height: 300px;\n    border: 1px solid rgba(0,0,0,0.1);\n    display: inline-block;\n    padding: 20px;\n    background: transparent;\n    pointer-events: none;\n}\n\n.ol-popup {\n    width: 300px;\n    min-height: 50px;\n    background: white;\n    color: black;\n    border: 4px solid black;\n    border-radius: 12px;\n}\n\n.ol-popup:after {\n    border-top-color: black;\n}\n\n.ol-popup .ol-popup-content {\n    padding: 0;\n}\n\n.ol-popup .ol-popup-content > *:first-child {\n    margin-right: 36px;\n    overflow: hidden;\n    display: block;\n}\n\n.ol-popup .pagination button {\n    border:none;\n    background:transparent;\n}\n\n.ol-popup .ol-popup-closer {\n    width: 24px;\n    height: 24px;    \n    text-align: center;\n    border-top-right-radius: 8px;\n}\n\n.ol-popup .ol-popup-docker {\n    width: 24px;\n    height: 24px;\n    text-align: center;\n}\n\n.ol-popup .ol-popup-closer:hover {\n    background-color: red;\n    color: white;\n}\n\n.ol-popup .ol-popup-docker:hover {\n    background-color: #999;\n    color: white;\n}\n\n.ol-popup .ol-popup-content > *:first-child {\n    margin-right: 40px;\n}\n\n.ol-popup .arrow.active:hover {\n    background-color: #999;\n    color: white;    \n}\n\n",dockContainer:t,pointerPosition:150,xOffset:-4,yOffset:3});r.on("show",function(){return console.log("show popup")}),r.on("hide",function(){return console.log("hide popup")}),r.pages.on("goto",function(){return console.log("goto page: "+r.pages.activeIndex)}),[1,2,3].map(function(e){return r.pages.add("Page "+e,new i.geom.Point(u))}),r.pages.goto(0),setTimeout(function(){r.show(u,"<div>Click the map to see a popup</div>");var o=0;console.log("adding 5 pages");var n=setInterval(function(){if(5==++o){console.log("detaching from map (docking)"),clearInterval(n),r.dock();var e=r.on("hide",function(){i.Observable.unByKey(e),r.undock()});setTimeout(function(){console.log("re-attaching to map (un-docking)"),r.undock(),console.log("adding a page with string and dom promise");var e=p.Deferred();r.pages.add(e),setTimeout(function(){return e.resolve("<p>This promise resolves to a string<p>")},500);var t=p.Deferred();r.pages.add(t);var o=document.createElement("div");o.innerHTML="<p>This function promise resolves to a div element</p>",setTimeout(function(){return t.resolve(o)},100),console.log("adding a page with a string callback"),r.pages.add(function(){return"<p>This function returns a string</p>"}),console.log("adding a page with a dom callback"),r.pages.add(function(){var e=document.createElement("div");return e.innerHTML="<p>This function returns a div element</p>",e}),console.log("adding a page with a string-promise"),r.pages.add(function(){var e=p.Deferred();return e.resolve("<p>This function promise resolves to a string</p>"),e}),console.log("adding a page with a dom-promise");var i="\nThis function promise resolves to a div element.\n<br/>\nThis page was resolved after 3 seconds.  \n<br/>As the content of this page grows, \n<br/>you should notice that the PanIntoView is continually keeping the popup within view.\n<br/>";r.pages.add(function(){var o=0,e=p.Deferred(),n=document.createElement("div"),t=document.createElement("div");return t.appendChild(n),setTimeout(function(){return e.resolve(t)},3e3),e.then(function(e){var t=setInterval(function(){n.innerHTML="<p>"+i.substr(0,++o)+"</p>",r.panIntoView(),i.length<=o&&clearInterval(t)},100)}),e})},1e3)}var t=document.createElement("div");t.innerHTML="PAGE "+o+"<br/>"+l[o%l.length],r.pages.add(t)},200)},500),a.create({map:o})}}),define("ol3-popup/examples/simple",["require","exports","openlayers","ol3-popup/ol3-popup","node_modules/ol3-fun/ol3-fun/common","ol3-popup/examples/extras/feature-creator"],function(e,t,i,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=i.proj.transform([-.92,52.96],"EPSG:4326","EPSG:3857");t.run=function(){a.cssin("simple","\nhead, body {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\nbody { \n    margin-top: 0;\n    margin-left: 1px;\n}\n\nbody * {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.map {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\n"),document.body.appendChild(a.html('<div>\n<div class="map"></div>\n</div>'));var e=document.getElementsByClassName("map")[0],t=new i.Map({target:e,layers:[new i.layer.Tile({source:new i.source.OSM({crossOrigin:null})})],view:new i.View({projection:"EPSG:3857",center:p,zoom:16})}),o=new i.layer.Vector({source:new i.source.Vector}),n=new i.layer.Vector({source:new i.source.Vector});t.addLayer(o),t.addLayer(n),s.create({map:t}).addSomeFeatures(o,p).addSomeFeatures(n,p),r.Popup.create({map:t})}}),define("ol3-popup/examples/style-offset",["require","exports","openlayers","ol3-popup/ol3-popup","node_modules/ol3-symbolizer/index","node_modules/ol3-fun/ol3-fun/common","ol3-popup/examples/extras/feature-creator"],function(e,t,r,a,o,s,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});new o.Symbolizer.StyleConverter;var l=r.proj.transform([-.92,52.96],"EPSG:4326","EPSG:3857");t.run=function(){document.head.appendChild(s.html("<style name=\"style-offset\" type='text/css'>\nhead, body {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\nbody { \n    margin-top: 0;\n    margin-left: 1px;\n}\n\nbody * {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.map {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\n</style>")),document.body.appendChild(s.html('<div>\n<div class="map"></div>\n</div>'));var e=document.getElementsByClassName("map")[0],t=new r.Map({target:e,layers:[new r.layer.Tile({source:new r.source.OSM})],view:new r.View({center:l,zoom:16})}),n=a.Popup.create({map:t,autoPan:!0,autoPanMargin:20,autoPanAnimation:{source:null,duration:500},pointerPosition:20,positioning:"top-left",offset:[0,-10],css:"\n        .ol-popup {\n            background-color: white;\n            border: 1px solid black;\n            padding: 4px;\n            width: 200px;\n        }\n        "}),o=new r.source.Vector({features:[]}),i=new r.layer.Vector({source:o,style:function(e,t){return e.getStyle()}});t.addLayer(i),p.create({map:t}).addSomeFeatures(i,l),n.on("show",function(){n.applyOffset(n.options.offset||[0,0]),n.setPointerPosition(n.options.pointerPosition)}),n.pages.on("goto",function(){var e=n.pages.activePage.location.get("popup-info");if(e){if(e.positioning){var t=n.getPositioning();if(t!==e.positioning){n.setPositioning(e.positioning);var o=n.on("hide",function(){r.Observable.unByKey(o),n.setPositioning(t)})}}e.offset&&n.applyOffset(e.offset),n.setPointerPosition(e.pointerPosition||n.options.pointerPosition)}else n.setOffset(n.options.offset||[0,0])})}});
//# sourceMappingURL=examples.js.map