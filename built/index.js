var __extends=this&&this.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();define("ol3-popup/paging/paging",["require","exports","openlayers","jquery"],function(t,e,i,a){"use strict";function s(t){return t.getInteriorPoint?t.getInteriorPoint().getCoordinates():i.extent.getCenter(t.getExtent())}Object.defineProperty(e,"__esModule",{value:!0});var o="pages",r="page",p="add",u="clear",c="goto";function d(){return"_"+1e6*Math.random()}var n=function(n){function t(t){var e=n.call(this)||this;return e.options=t,e._pages=[],e.domNode=document.createElement("div"),e.domNode.classList.add(o),t.popup.domNode.appendChild(e.domNode),e}return __extends(t,n),Object.defineProperty(t.prototype,"activePage",{get:function(){return this._activePage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._pages.indexOf(this._activePage)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._pages.length},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e){n.prototype.on.call(this,t,e)},t.prototype.findPage=function(e){return this._pages.filter(function(t){return t.feature===e})[0]},t.prototype.removePage=function(t){var e=this._pages.indexOf(t);if(0<=e){this._pages.splice(e,1);this._pages.length;this.goto(e)}},t.prototype.addFeature=function(t,e){var n=this.findPage(t);if(n)return this.goto(this._pages.indexOf(n)),n;var o=t.getGeometry();return o=o.intersectsCoordinate(e.searchCoordinate)?new i.geom.Point(e.searchCoordinate):new i.geom.Point(o.getClosestPoint(e.searchCoordinate)),n={element:document.createElement("div"),feature:t,location:o,uid:d()},this._pages.push(n),this.dispatchEvent({type:p,element:n.element,feature:n.feature,geom:n.location,pageIndex:n.uid}),n},t.prototype.add=function(t,e){var n,o=document.createElement("div");if("string"==typeof t)o.innerHTML=t,this._pages.push(n={element:o,location:e,uid:d()});else if(t.appendChild)o.classList.add(r),this._pages.push(n={element:o,location:e,uid:d()});else if(t.then){var i=t;o.classList.add(r),this._pages.push(n={element:o,location:e,uid:d()}),a.when(i).then(function(t){"string"==typeof t?o.innerHTML=t:o.appendChild(t)})}else{if("function"!=typeof t)throw"invalid source value: "+t;o.classList.add("page"),this._pages.push(n={callback:t,element:o,location:e,uid:d()})}return this.dispatchEvent({type:p,element:o,feature:null,geom:e,pageIndex:this._pages.length-1}),n},t.prototype.clear=function(){this._activePage=null,this._pages=[],this.dispatchEvent(u)},t.prototype.goto=function(e){var n,t=this;if(n="number"==typeof e?this._pages[e]:this._pages.filter(function(t){return t.uid===e})[0]){var o=this.options.popup;if(n.feature)return this.options.popup.show(s(n.location||n.feature.getGeometry()),o.options.asContent(n.feature)),this._activePage=n,void this.dispatchEvent(c);var i=a.Deferred();if(n.callback){var r=n.callback();a.when(r).then(function(t){if("string"==typeof t)n.element.innerHTML=t;else{if(void 0===t.innerHTML)throw"invalid callback result: "+t;n.element.innerHTML="",n.element.appendChild(t)}i.resolve()})}else i.resolve();i.then(function(){t._activePage=n,t.options.popup.show(s(n.location),n.element),t.dispatchEvent(c)})}},t.prototype.next=function(){0<=this.activeIndex&&this.activeIndex<this.count&&this.goto(this.activeIndex+1)},t.prototype.prev=function(){0<this.activeIndex&&this.goto(this.activeIndex-1)},t.prototype.indexOf=function(n){var o=-1;return this._pages.some(function(t,e){if(t.feature===n)return o=e,!0}),o},t}(i.Observable);e.Paging=n}),define("ol3-popup/paging/page-navigator",["require","exports","openlayers"],function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="btn-prev",a="btn-next",i="hidden",s="active",p="inactive",u="page-num",r="show",c="hide",d="prev",l="next";function f(t,e,n){void 0===n&&(n=!1),n?t.classList.add(e):t.classList.remove(e)}var h=function(e){function t(t){var i=e.call(this)||this,r=(i.options=t).pages;return i.domNode=document.createElement("div"),i.domNode.classList.add("pagination"),i.domNode.innerHTML=i.template(),i.prevButton=i.domNode.getElementsByClassName(o)[0],i.nextButton=i.domNode.getElementsByClassName(a)[0],i.pageInfo=i.domNode.getElementsByClassName(u)[0],r.options.popup.domNode.appendChild(i.domNode),i.prevButton.addEventListener("click",function(){return i.dispatchEvent(d)}),i.nextButton.addEventListener("click",function(){return i.dispatchEvent(l)}),r.on("goto",function(){return 1<r.count?i.show():i.hide()}),r.on("clear",function(){return i.hide()}),r.on("goto",function(){var t=r.activeIndex,e=r.count,n=0<t,o=t<e-1;f(i.prevButton,p,!n),f(i.prevButton,s,n),f(i.nextButton,p,!o),f(i.nextButton,s,o),i.prevButton.disabled=!n,i.nextButton.disabled=!o,i.pageInfo.innerHTML=1+t+" of "+e}),i}return __extends(t,e),t.prototype.template=function(){return'<button class="arrow btn-prev"></button><span class="page-num">m of n</span><button class="arrow btn-next"></button>'},t.prototype.hide=function(){this.domNode.classList.add(i),this.dispatchEvent(c)},t.prototype.show=function(){this.domNode.classList.remove(i),this.dispatchEvent(r)},t}(n.Observable);e.default=h}),define("node_modules/ol3-fun/ol3-fun/common",["require","exports"],function(t,e){"use strict";function i(t,e){if("string"==typeof e)return t;if("number"==typeof e)return parseFloat(t);if("boolean"==typeof e)return"1"===t||"true"===t;if(Array.isArray(e))return t.split(",").map(function(t){return i(t,e[0])});throw"unknown type: "+e}function r(t,e){void 0===e&&(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function a(t,e){null!=t&&e(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},e.asArray=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t[n];return e},e.toggle=function(t,e,n){void 0===n&&(n=!1),n?t.classList.add(e):t.classList.remove(e)},e.parse=i,e.getQueryParameters=function(t,e){void 0===e&&(e=window.location.href);var o=t;Object.keys(o).forEach(function(n){a(r(n,e),function(t){var e=i(t,o[n]);void 0!==e&&(o[n]=e)})})},e.getParameterByName=r,e.doif=a,e.mixin=function(e,n){return Object.keys(n).forEach(function(t){return e[t]=n[t]}),e},e.defaults=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.forEach(function(e){Object.keys(e).filter(function(t){return void 0===n[t]}).forEach(function(t){return n[t]=e[t]})}),n},e.cssin=function(t,e){var n="style-"+t,o=document.getElementById(n);o||((o=document.createElement("style")).id=n,o.type="text/css",document.head.appendChild(o),o.appendChild(document.createTextNode(e)));var i=o.dataset;return i.count=parseInt(i.count||"0")+1+"",function(){i.count=parseInt(i.count||"0")-1+"","0"===i.count&&o.remove()}},e.debounce=function(o,i,r){var a,s=this;return void 0===i&&(i=50),void 0===r&&(r=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||o.apply(s,t)},i),n&&o.call(s,t)}},e.html=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild||e.firstChild},e.pair=function(t,n){var o=new Array(t.length*n.length),i=0;return t.forEach(function(e){return n.forEach(function(t){return o[i++]=[e,t]})}),o},e.range=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=n;return e},e.shuffle=function(t){for(var e,n,o=t.length;0!==o;)n=Math.floor(Math.random()*o),e=t[o-=1],t[o]=t[n],t[n]=e;return t}}),define("ol3-popup/interaction",["require","exports","openlayers","node_modules/ol3-fun/ol3-fun/common"],function(t,e,h,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(u){var c,d=t.call(this,u)||this,l=(d.options=u).popup,f=u.map;return d.handlers=[],d.handlers.push(f.on("click",function(n){var t,e,o;if(d.get("active")){var i=l.isDocked();l.options.multi&&u.addCondition(n)||l.pages.clear();var r=!1,a=h.extent.createEmpty();a[0]=a[2]=n.pixel[0],a[1]=a[3]=n.pixel[1],a=h.extent.buffer(a,4),e=(t=[f.getCoordinateFromPixel([a[0],a[1]]),f.getCoordinateFromPixel([a[2],a[3]])])[0],a[0]=e[0],a[3]=e[1],o=t[1],a[2]=o[0],a[1]=o[1];var s,p=l.options.layers;p||(p=f.getLayers().getArray().filter(function(t){return t instanceof h.layer.Vector})),p.forEach(function(t){t!==c&&t.getSource().forEachFeatureIntersectingExtent(a,function(t){return s=l.pages.addFeature(t,{searchCoordinate:n.coordinate}),r=!0,!l.options.multi})}),r||f.forEachFeatureAtPixel(n.pixel,function(t,e){if(e&&e!==c&&-1!==p.indexOf(e))return s=l.pages.addFeature(t,{searchCoordinate:n.coordinate}),r=!0,!l.options.multi}),!r&&l.options.showCoordinates&&(s=l.pages.add(("\n<table>\n<tr><td>lon</td><td>"+n.coordinate[0].toPrecision(6)+"</td></tr>\n<tr><td>lat</td><td>"+n.coordinate[1].toPrecision(6)+"</td></tr>\n</table>").trim(),new h.geom.Point(n.coordinate)),r=!0),r?(l.pages.goto(s.uid),i&&!l.isDocked()&&l.dock()):l.options.multi&&u.addCondition(n)||l.hide()}})),l.options.pagingStyle&&(c=d.setupOverlay()),l.on("dispose",function(){return d.destroy()}),d}return __extends(e,t),e.create=function(t){if(!t.popup)throw"popup is a required option";return t.map||(t.map=t.popup.options.map,t.map),(t=n.defaults(t,e.DEFAULT_OPTIONS)).addCondition=t.addCondition||h.events.condition.shiftKeyOnly,t.removeCondition=t.removeCondition||h.events.condition.never,t.toggleCondition=t.addCondition||h.events.condition.shiftKeyOnly,new e(t)},e.prototype.setupOverlay=function(){var t=this,o=this.options.popup,i=new h.source.Vector({useSpatialIndex:!1,wrapX:this.options.wrapX}),e=new h.layer.Vector({map:this.options.map,source:i,updateWhileAnimating:!0,updateWhileInteracting:!0});return e.setStyle(function(t,e){var n=i.getFeatures().indexOf(t);return o.options.pagingStyle(t,e,n)}),e.setMap(this.options.map),this.handlers.push(function(){return t.options.map.removeLayer(e)}),o.pages.on("clear",function(){i.clear()}),this.handlers.push(o.pages.on("goto",function(){return e.getSource().refresh()})),o.pages.on("remove",function(e){i.forEachFeature(function(t){if(t.get("page-index")===e.pageIndex)return i.removeFeature(t),!0})}),o.pages.on("add",function(t){var e=t.feature;e?((e=e.clone()).setStyle(null),t.geom&&e.setGeometry(t.geom)):t.geom&&(e=new h.Feature).setGeometry(t.geom),e&&(e.set("page-index",t.pageIndex),i.addFeature(e))}),e},e.prototype.destroy=function(){this.handlers.forEach(function(t){return t instanceof Function?t():h.Observable.unByKey(t)})},e.DEFAULT_OPTIONS={multi:!0},e}(h.interaction.Select);e.SelectInteraction=o}),define("node_modules/ol3-symbolizer/index",["require","exports","node_modules/ol3-symbolizer/ol3-symbolizer/format/ol3-symbolizer"],function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Symbolizer=n}),define("ol3-popup/ol3-popup",["require","exports","jquery","openlayers","ol3-popup/paging/paging","ol3-popup/paging/page-navigator","node_modules/ol3-fun/ol3-fun/common","ol3-popup/interaction","node_modules/ol3-symbolizer/index"],function(t,e,o,n,d,l,f,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=new i.Symbolizer.StyleConverter,m=g.fromJson({circle:{fill:{color:"rgba(255,0,0,1)"},opacity:1,stroke:{color:"rgba(255,255,255,1)",width:1},radius:3}}),v="ol-popup-docker",y="ol-popup-closer",x="ol-popup-content",r="hidden",a="docked",s="dispose",p="dock",u="hide",b="show",_="undock";var P={map:null,asContent:function(n){var t=document.createElement("div"),e=Object.keys(n.getProperties()).filter(function(t){var e=n.get(t);return"string"==typeof e||"number"==typeof e});return t.title=n.getGeometryName(),t.innerHTML="<table>"+e.map(function(t){return"<tr><td>"+t+"</td><td>"+n.get(t)+"</td></tr>"}).join("")+"</table>",t},multi:!1,autoPan:!0,autoPanAnimation:{source:null,duration:250},autoPopup:!0,className:"ol-popup",css:"\n.ol-popup {\n    background-color: white;\n    border: 1px solid black;\n    padding: 4px;\n    padding-top: 24px;\n}\n.ol-popup .ol-popup-content {\n    overflow: auto;\n    min-width: 120px;\n    max-width: 360px;\n    max-height: 240px;\n}\n.ol-popup .pages {\n    overflow: auto;\n    max-width: 360px;\n    max-height: 240px;\n}\n.ol-popup .ol-popup-closer {\n    right: 4px;\n}\n".trim(),insertFirst:!0,pointerPosition:50,xOffset:0,yOffset:0,positioning:"top-right",stopEvent:!0,showCoordinates:!1},c=function(c){function n(t){var a,e=c.call(this,t)||this;t.pagingStyle||(t.pagingStyle=(a=e,function(t,e,n){var o=[m];if(a.options.multi&&1<a.pages.count){var i=a.pages.activeIndex===n,r=g.fromJson({text:{text:""+(n+1),fill:{color:i?"white":"black"},stroke:{color:i?"black":"white",width:i?4:2},"offset-y":20}});o.push(r)}return o})),e.options=t,e.handlers=[],f.cssin("ol3-popup",'\n.ol-popup {\n    position: absolute;\n    bottom: 12px;\n    left: -50px;\n}\n\n.ol-popup.hidden {\n    display: none;\n}\n\n.ol-popup:after {\n    top: auto;\n    bottom: -20px;\n    left: 50px;\n    border: solid transparent;\n    border-top-color: inherit;\n    content: " ";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n    border-width: 10px;\n    margin-left: -10px;\n}\n\n.ol-popup.docked {\n    position:absolute;\n    bottom:0;\n    top:0;\n    left:0;\n    right:0;\n    width:auto;\n    height:auto;\n    pointer-events: all;\n}\n\n.ol-popup.docked:after {\n    display:none;\n}\n\n.ol-popup.docked .pages {\n    max-height: inherit;\n    overflow: auto;\n    height: calc(100% - 60px);\n}\n\n.ol-popup.docked .pagination {\n    position: absolute;\n    bottom: 0;\n}\n\n.ol-popup .pagination .btn-prev::after {\n    content: "⇦"; \n}\n\n.ol-popup .pagination .btn-next::after {\n    content: "⇨"; \n}\n\n.ol-popup .pagination.hidden {\n    display: none;\n}\n\n.ol-popup .ol-popup-closer {\n    border: none;\n    background: transparent;\n    color: inherit;\n    position: absolute;\n    top: 0;\n    right: 0;\n    text-decoration: none;\n}\n    \n.ol-popup .ol-popup-closer:after {\n    content:\'✖\';\n}\n\n.ol-popup .ol-popup-docker {\n    border: none;\n    background: transparent;\n    color: inherit;\n    text-decoration: none;\n    position: absolute;\n    top: 0;\n    right: 20px;\n}\n\n.ol-popup .ol-popup-docker:after {\n    content:\'□\';\n}\n'),t.css&&e.injectCss(t.css);var n=e.domNode=document.createElement("div");if((n.className=t.className,e.setElement(n),e.handlers.push(function(){return n.remove()}),"number"==typeof e.options.pointerPosition&&e.setPointerPosition(e.options.pointerPosition),e.options.dockContainer)&&e.options.dockContainer){var o=e.docker=document.createElement("label");o.className=v,n.appendChild(o),o.addEventListener("click",function(t){e.isDocked()?e.undock():e.dock(),t.preventDefault()},!1)}var i=e.closer=document.createElement("label");i.className=y,n.appendChild(i),i.addEventListener("click",function(t){e.hide(),t.preventDefault()},!1);var r=e.content=document.createElement("div");r.className=x,e.domNode.appendChild(r);var s=e.pages=new d.Paging({popup:e}),p=new l.default({pages:s});if(p.hide(),p.on("prev",function(){return s.prev()}),p.on("next",function(){return s.next()}),s.on("goto",function(){return e.panIntoView()}),e.options.autoPopup){var u=h.SelectInteraction.create({popup:e});e.on("change:active",function(){u.set("active",e.get("active"))}),e.handlers.push(function(){return u.destroy()})}return e}return __extends(n,c),n.create=function(t){var e=new n(t=f.defaults({},t,P));return t.map&&t.map.addOverlay(e),e},n.prototype.injectCss=function(t){var e=f.html("<style type='text/css'>"+t+"</style>");o(document.head).append(e),this.handlers.push(function(){return e.remove()})},n.prototype.setIndictorPosition=function(){throw"removed in 4.0.1: use setPointerPosition"},n.prototype.setPointerPosition=function(t){var e=this,n=this.getPositioning().split("-",2),o=n[0],i=n[1],r=[];switch(o){case"bottom":r.push(".ol-popup { top: "+(10+this.options.yOffset)+"px; bottom: auto; }"),r.push(".ol-popup:after {  top: -20px; bottom: auto; transform: rotate(180deg);}");break;case"center":break;case"top":r.push(".ol-popup { top: auto; bottom: "+(10+this.options.yOffset)+"px; }"),r.push(".ol-popup:after {  top: auto; bottom: -20px; transform: rotate(0deg);}")}switch(i){case"center":break;case"left":r.push(".ol-popup { left: auto; right: "+(this.options.xOffset-t-10)+"px; }"),r.push(".ol-popup:after { left: auto; right: "+t+"px; }");break;case"right":r.push(".ol-popup { left: "+(this.options.xOffset-t-10)+"px; right: auto; }"),r.push(".ol-popup:after { left: "+(10+t)+"px; right: auto; }")}r.forEach(function(t){return e.injectCss(t)})},n.prototype.setPosition=function(t){var e,n;(this.options.position=t,this.isDocked())?this.options.map.getView().animate({center:t}):(e=this.getPosition(),n=t,!(e&&n&&(e===n||e.length===n.length&&e.every(function(t,e){return t==n[e]})))&&c.prototype.setPosition.call(this,t))},n.prototype.panIntoView=function(){if(this.isOpened()&&!this.isDocked()){var t=this.getPosition();t&&this.setPosition(t.map(function(t){return t}))}},n.prototype.destroy=function(){this.handlers.forEach(function(t){return t()}),this.handlers=[],this.getMap()&&this.getMap().removeOverlay(this),this.dispatchEvent(s)},n.prototype.show=function(t,e){return e instanceof HTMLElement?(this.content.innerHTML="",this.content.appendChild(e)):this.content.innerHTML=e,this.setPosition(t),this.domNode.classList.remove(r),this.dispatchEvent(b),this},n.prototype.on=function(t,e){return c.prototype.on.call(this,t,e)},n.prototype.hide=function(){return this.setPosition(void 0),this.pages.clear(),this.domNode.classList.add(r),this.dispatchEvent(u),this},n.prototype.isOpened=function(){return!this.domNode.classList.contains(r)},n.prototype.isDocked=function(){return this.domNode.classList.contains(a)},n.prototype.dock=function(){var t=this.getMap();return this.options.map=t,this.options.parentNode=this.domNode.parentElement,t.removeOverlay(this),this.domNode.classList.add(a),this.options.dockContainer.appendChild(this.domNode),this.dispatchEvent(p),this},n.prototype.undock=function(){return this.options.parentNode.appendChild(this.domNode),this.domNode.classList.remove(a),this.options.map.addOverlay(this),this.setPosition(this.options.position),this.dispatchEvent(_),this},n.prototype.applyOffset=function(t){var e=t[0],n=t[1];switch(this.getPositioning()){case"bottom-left":this.setOffset([e,-n]);break;case"bottom-right":this.setOffset([-e,-n]);break;case"top-left":this.setOffset([e,n]);break;case"top-right":this.setOffset([-e,n])}},n}(n.Overlay);e.Popup=c}),define("index",["require","exports","ol3-popup/ol3-popup"],function(t,e,n){"use strict";return n});
//# sourceMappingURL=index.js.map